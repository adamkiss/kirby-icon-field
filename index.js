(function(){"use strict";function a(o,e,r,t,n,u,c,w){var i=typeof o=="function"?o.options:o;e&&(i.render=e,i.staticRenderFns=r,i._compiled=!0),t&&(i.functional=!0),u&&(i._scopeId="data-v-"+u);var l;if(c?(l=function(s){s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!s&&typeof __VUE_SSR_CONTEXT__<"u"&&(s=__VUE_SSR_CONTEXT__),n&&n.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(c)},i._ssrRegister=l):n&&(l=w?function(){n.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(i.functional){i._injectStyles=l;var O=i.render;i.render=function(x,d){return l.call(d),O(x,d)}}else{var f=i.beforeCreate;i.beforeCreate=f?[].concat(f,l):[l]}return{exports:o,options:i}}const p={extends:"k-multiselect-field"};var _=function(){var e=this,r=e._self._c;return r("k-field",e._b({staticClass:"k-multiselect-field",class:e.max==1&&"k-icon-no-counter",attrs:{input:e._uid,counter:e.counterOptions},on:{blur:e.blur},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.focus.apply(null,arguments))}}},"k-field",e.$props,!1),[r("k-input",e._g(e._b({ref:"input",attrs:{id:e._uid,theme:"field",type:"icon"}},"k-input",e.$props,!1),e.$listeners))],1)},k=[],m=a(p,_,k,!1,null,null,null,null);const y=m.exports,P="",h={extends:"k-multiselect-input",methods:{findSvg(o){var e;return((e=this.options.find(r=>r.value===o))==null?void 0:e.svg)??null},add(o){if(this.more){this.state.push(o.value),this.onInput();return}this.max===1&&!this.more&&(this.state=[o.value],this.onInput())}}};var g=function(){var e=this,r=e._self._c;return r("k-draggable",{staticClass:"k-multiselect-input",attrs:{list:e.state,options:e.dragOptions,"data-layout":e.layout,element:"k-dropdown"},on:{end:e.onInput},nativeOn:{click:function(t){return e.$refs.dropdown.toggle.apply(null,arguments)}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("k-dropdown-content",{ref:"dropdown",on:{open:e.onOpen,close:e.onClose},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.close.apply(null,arguments))}}},[e.search?r("k-dropdown-item",{staticClass:"k-multiselect-search",attrs:{icon:"search"}},[r("input",{ref:"search",attrs:{placeholder:e.search.min?e.$t("search.min",{min:e.search.min}):e.$t("search")+" â€¦"},domProps:{value:e.q},on:{input:function(t){e.q=t.target.value},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.onEscape.apply(null,arguments))}}})]):e._e(),r("div",{staticClass:"k-multiselect-options k-icon-input-options scroll-y-auto"},[e._l(e.visible,function(t){return r("k-dropdown-item",{key:t.value,class:{"k-multiselect-option":!0,selected:e.isSelected(t),disabled:!e.more&&e.max>1},attrs:{icon:e.isSelected(t)?e.max>1?"check":"circle-filled":"circle-outline"},on:{click:function(n){return n.preventDefault(),e.select(t)}},nativeOn:{keydown:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),n.stopPropagation(),e.select(t))},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"space",32,n.key,[" ","Spacebar"])?null:(n.preventDefault(),n.stopPropagation(),e.select(t))}]}},[r("span",{staticClass:"k-button-text-icon",domProps:{innerHTML:e._s(t.svg)}}),r("span",{staticClass:"k-button-text-inner",domProps:{innerHTML:e._s(t.text)}})])}),e.filtered.length===0?r("k-dropdown-item",{staticClass:"k-multiselect-option",attrs:{disabled:!0}},[e._v(" "+e._s(e.emptyLabel)+" ")]):e._e()],2),e.visible.length<e.filtered.length?r("k-button",{staticClass:"k-multiselect-more",attrs:{text:`${e.$t("search.all")} (${e.filtered.length})`},on:{click:function(t){t.stopPropagation(),e.limit=!1}}}):e._e()],1)]},proxy:!0}])},e._l(e.tags,function(t){return r("k-tag",{key:t.value,ref:t.value,refInFor:!0,class:e.max==1?"k-tag-single":"k-tag-multi",attrs:{removable:e.max>1},on:{remove:function(n){return e.remove(t)}},nativeOn:{click:function(n){n.stopPropagation()},keydown:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])||"button"in n&&n.button!==0?null:e.navigate("prev")},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])||"button"in n&&n.button!==2?null:e.navigate("next")},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"])?null:e.$refs.dropdown.open.apply(null,arguments)}]}},[e.findSvg(t.value)?r("span",{staticClass:"k-tag-svg",domProps:{innerHTML:e._s(e.findSvg(t.value))}}):e._e(),r("span",{domProps:{innerHTML:e._s(t.text)}})])}),1)},v=[],C=a(h,g,v,!1,null,null,null,null);const b=C.exports;window.panel.plugin("tobimori/icon-field",{fields:{icon:y},components:{"k-icon-input":b}})})();
